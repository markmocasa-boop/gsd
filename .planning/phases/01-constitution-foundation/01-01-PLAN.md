---
phase: 01-constitution-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - get-shit-done/templates/constitution/global-constitution.md
  - get-shit-done/templates/constitution/project-constitution.md
autonomous: true

must_haves:
  truths:
    - "Global CONSTITUTION.md template exists with severity sections"
    - "Project CONSTITUTION.md template exists for overrides"
    - "TDD-01 rule documented with examples"
    - "Each rule has rationale explaining why it exists"
  artifacts:
    - path: "get-shit-done/templates/constitution/global-constitution.md"
      provides: "Global constitution template with NON-NEGOTIABLE/ERROR/WARNING sections"
      contains: "# NON-NEGOTIABLE"
      min_lines: 80
    - path: "get-shit-done/templates/constitution/project-constitution.md"
      provides: "Project constitution template for overrides"
      contains: "version:"
      min_lines: 30
  key_links:
    - from: "get-shit-done/templates/constitution/global-constitution.md"
      to: "TDD-01 rule definition"
      via: "### TDD-01: heading with good/bad examples"
      pattern: "### TDD-01:"
---

<objective>
Create constitution file templates defining structure, severity levels, and initial TDD enforcement rule.

Purpose: Establish constitutional file format that will be loaded by constitution system. Templates define YAML frontmatter structure, severity sections, and rule format with examples.

Output: Two markdown templates ready to be instantiated during GSD installation and project initialization.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/PROJECT.md
@/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/ROADMAP.md
@/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/STATE.md
@/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/REQUIREMENTS.md
@/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/phases/01-constitution-foundation/01-CONTEXT.md
@/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/phases/01-constitution-foundation/01-RESEARCH.md
@/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/codebase/STRUCTURE.md
@/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/codebase/CONVENTIONS.md
</context>

<tasks>

<task type="auto">
  <name>Create global constitution template</name>
  <files>get-shit-done/templates/constitution/global-constitution.md</files>
  <action>
Create global CONSTITUTION.md template at `get-shit-done/templates/constitution/global-constitution.md`.

Structure:
1. YAML frontmatter with version (1.0.0), lastUpdated placeholder
2. Introduction explaining constitution purpose
3. Three severity sections as H1 headers: `# NON-NEGOTIABLE`, `# ERROR`, `# WARNING`
4. Initial rule under NON-NEGOTIABLE: TDD-01 (test before implementation)

TDD-01 content:
- Rule heading: `### TDD-01: Test before implementation`
- Description: Test file must exist and be committed before corresponding implementation file
- Rationale paragraph: Explains why TDD prevents executors from writing untested code, improves design
- `## Good Example` subsection with passing scenario (test committed first, then implementation)
- `## Bad Example` subsection with violation (implementation committed without test)
- Use code blocks with git commit history examples

Anti-pattern documentation (DOC-01, DOC-04):
- Each rule must have "Why this rule exists" explanation
- Include specific failure modes prevented by rule
- Reference executor context limits, verification constraints

GSD style integration (DOC-03):
- Imperative voice in rule descriptions
- Technical precision in examples
- No filler words or emojis

Follow CONTEXT.md decisions for format (YAML frontmatter, markdown body, severity hierarchy).
  </action>
  <verify>
File exists at `get-shit-done/templates/constitution/global-constitution.md`.
Contains YAML frontmatter with version field.
Contains three H1 sections: NON-NEGOTIABLE, ERROR, WARNING.
Contains TDD-01 rule with heading, description, rationale, good/bad examples.
  </verify>
  <done>
Global constitution template ready for instantiation.
Template includes versioning, severity sections, and complete TDD-01 rule with rationale and examples.
File follows YAML + markdown format from CONTEXT.md.
  </done>
</task>

<task type="auto">
  <name>Create project constitution template</name>
  <files>get-shit-done/templates/constitution/project-constitution.md</files>
  <action>
Create project CONSTITUTION.md template at `get-shit-done/templates/constitution/project-constitution.md`.

Structure:
1. YAML frontmatter with version (1.0.0), lastUpdated placeholder
2. Introduction explaining project constitutions extend/override global
3. Same three severity sections as global (NON-NEGOTIABLE, ERROR, WARNING)
4. Placeholder comments in each section showing override syntax
5. Example override rule (commented out) demonstrating rule ID format

Content:
- Frontmatter identical to global template (version, lastUpdated)
- Introduction: "Project constitution extends global CONSTITUTION.md. Rules defined here override global rules with matching IDs."
- Each severity section contains commented example: `<!-- ### PROJ-01: Project-specific rule -->`
- Override precedence explanation: "Project rules with same ID as global rules replace global definition"
- Empty sections by default (projects add rules as needed)

Keep minimal (30-40 lines) - project constitutions are opt-in extensions, not full duplicates.

Follow same format conventions as global template.
  </action>
  <verify>
File exists at `get-shit-done/templates/constitution/project-constitution.md`.
Contains YAML frontmatter with version field.
Contains three H1 sections matching global template.
Contains commented examples showing override syntax.
Explains project override precedence.
  </verify>
  <done>
Project constitution template ready for instantiation.
Template provides structure for project-specific rules.
Clearly documents override behavior.
Shorter than global template (focused on extensions only).
  </done>
</task>

</tasks>

<verification>
Both constitution templates created in `get-shit-done/templates/constitution/`.
Global template contains complete TDD-01 rule with rationale and examples.
Project template provides override structure with examples.
Templates follow YAML frontmatter + markdown format from CONTEXT.md.
All requirements CONST-05, DOC-01, DOC-02, DOC-03, DOC-04 addressed in template content.
</verification>

<success_criteria>
- [ ] Global constitution template exists with version 1.0.0
- [ ] Project constitution template exists with version 1.0.0
- [ ] TDD-01 rule fully documented with good/bad examples
- [ ] Each template has three severity sections (NON-NEGOTIABLE, ERROR, WARNING)
- [ ] Project template explains override precedence
- [ ] Templates use YAML frontmatter + markdown body format
- [ ] Code committed with message following project conventions
</success_criteria>

<output>
After completion, create `/Users/maciejmoszoro/Projects/GSD-with-constitution/get-shit-done-mm/.planning/phases/01-constitution-foundation/01-01-SUMMARY.md`
</output>
